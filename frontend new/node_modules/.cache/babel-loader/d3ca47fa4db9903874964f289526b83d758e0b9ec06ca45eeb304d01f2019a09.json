{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\thurea\\\\frontend\\\\src\\\\components\\\\BookingPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport SeatsSelection from \"./SeatsSelection\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingPage = ({\n  seatsData\n}) => {\n  _s();\n  const location = useLocation();\n  const routeState = (location === null || location === void 0 ? void 0 : location.state) || {};\n  const effectiveSeatsData = Array.isArray(seatsData) && seatsData.length > 0 ? seatsData : routeState.seatsData;\n  const [seats, setSeats] = useState([]);\n  const [selectedSeats, setSelectedSeats] = useState([]);\n  useEffect(() => {\n    // load seats data from props or router state\n    if (Array.isArray(effectiveSeatsData) && effectiveSeatsData.length > 0) {\n      setSeats(effectiveSeatsData);\n    }\n  }, [effectiveSeatsData]);\n  const handleSelect = id => {\n    if (!selectedSeats.includes(id)) {\n      setSelectedSeats([...selectedSeats, id]);\n    } else {\n      setSelectedSeats(selectedSeats.filter(seatId => seatId !== id));\n    }\n  };\n  const handleBook = () => {\n    if (selectedSeats.length === 0) {\n      alert(\"Please select at least one seat!\");\n      return;\n    }\n    const updatedSeats = seats.map(seat => selectedSeats.includes(seat.id) ? {\n      ...seat,\n      booked: true\n    } : seat);\n    setSeats(updatedSeats);\n    setSelectedSeats([]);\n    alert(\"Seats booked successfully!\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Select Your Seats\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), routeState.routeInfo && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [routeState.routeInfo.from, \" \\u2192 \", routeState.routeInfo.to, \" |\", \" \", routeState.routeInfo.busName, \" (\", routeState.routeInfo.busNumber, \") |\", \" \", routeState.routeInfo.schedule, \" | \", routeState.routeInfo.price, \" TZS\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), seats.length > 0 ? /*#__PURE__*/_jsxDEV(SeatsSelection, {\n      seats: seats,\n      onSelect: handleSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No seats available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBook,\n        style: {\n          padding: \"10px 20px\",\n          backgroundColor: \"blue\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          cursor: \"pointer\"\n        },\n        children: \"Book Ticket\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), selectedSeats.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Selected Seats:\", \" \", selectedSeats.map(id => seats.find(s => s.id === id).number).join(\", \")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingPage, \"scWbqlzNHkqrI0g0hmvyeUnw7n0=\", false, function () {\n  return [useLocation];\n});\n_c = BookingPage;\nexport default BookingPage;\nvar _c;\n$RefreshReg$(_c, \"BookingPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","SeatsSelection","jsxDEV","_jsxDEV","BookingPage","seatsData","_s","location","routeState","state","effectiveSeatsData","Array","isArray","length","seats","setSeats","selectedSeats","setSelectedSeats","handleSelect","id","includes","filter","seatId","handleBook","alert","updatedSeats","map","seat","booked","children","fileName","_jsxFileName","lineNumber","columnNumber","routeInfo","from","to","busName","busNumber","schedule","price","onSelect","style","marginTop","onClick","padding","backgroundColor","color","border","borderRadius","cursor","find","s","number","join","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/thurea/frontend/src/components/BookingPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport SeatsSelection from \"./SeatsSelection\";\n\nconst BookingPage = ({ seatsData }) => {\n  const location = useLocation();\n  const routeState = location?.state || {};\n  const effectiveSeatsData = Array.isArray(seatsData) && seatsData.length > 0\n    ? seatsData\n    : routeState.seatsData;\n  const [seats, setSeats] = useState([]);\n  const [selectedSeats, setSelectedSeats] = useState([]);\n\r\n  useEffect(() => {\n    // load seats data from props or router state\n    if (Array.isArray(effectiveSeatsData) && effectiveSeatsData.length > 0) {\n      setSeats(effectiveSeatsData);\n    }\n  }, [effectiveSeatsData]);\n\r\n  const handleSelect = (id) => {\r\n    if (!selectedSeats.includes(id)) {\r\n      setSelectedSeats([...selectedSeats, id]);\r\n    } else {\r\n      setSelectedSeats(selectedSeats.filter((seatId) => seatId !== id));\r\n    }\r\n  };\r\n\r\n  const handleBook = () => {\r\n    if (selectedSeats.length === 0) {\r\n      alert(\"Please select at least one seat!\");\r\n      return;\r\n    }\r\n\r\n    const updatedSeats = seats.map((seat) =>\r\n      selectedSeats.includes(seat.id) ? { ...seat, booked: true } : seat\r\n    );\r\n\r\n    setSeats(updatedSeats);\r\n    setSelectedSeats([]);\r\n    alert(\"Seats booked successfully!\");\r\n  };\r\n\r\n  return (\n    <div>\n      <h2>Select Your Seats</h2>\n      {routeState.routeInfo && (\n        <p>\n          {routeState.routeInfo.from} â†’ {routeState.routeInfo.to} |{\" \"}\n          {routeState.routeInfo.busName} ({routeState.routeInfo.busNumber}) |{\" \"}\n          {routeState.routeInfo.schedule} | {routeState.routeInfo.price} TZS\n        </p>\n      )}\n      {seats.length > 0 ? (\r\n        <SeatsSelection seats={seats} onSelect={handleSelect} />\r\n      ) : (\r\n        <p>No seats available.</p>\r\n      )}\r\n      <div style={{ marginTop: \"20px\" }}>\r\n        <button\r\n          onClick={handleBook}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            backgroundColor: \"blue\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            borderRadius: \"5px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Book Ticket\r\n        </button>\r\n      </div>\r\n      {selectedSeats.length > 0 && (\r\n        <p>\r\n          Selected Seats:{\" \"}\r\n          {selectedSeats\r\n            .map((id) => seats.find((s) => s.id === id).number)\r\n            .join(\", \")}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}